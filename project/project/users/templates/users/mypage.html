{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="mypage-container">
    <h1><b>MY PAGE</b></h1>
    <div class="user-info">
        <h3>{{ user_profile.username }} ë‹˜ ì•ˆë…•í•˜ì„¸ìš” ğŸ˜Š</h3>
        <p> {{user_profile.profile}} </p>
    </div>

    <div class = "user-info">
        <p>íŒ”ë¡œì›Œ<br>{{ user_profile.profile.followers.count }}ëª…</p>
        <p>íŒ”ë¡œì‰<br>{{ user_profile.profile.followings.count }}ëª…</p>

        {% if request.user != user_profile %}
            {% if request.user.profile in user_profile.profile.followers.all %}
                <a href="{% url 'users:follow' user_profile.id %}">
                    <button type="button" class="btn btn-outline-info">ì–¸íŒ”ë¡œìš°</button>
                </a>
            {% else %}
                <a href="{% url 'users:follow' user_profile.id %}">
                    <button type="button" class="btn btn-info">íŒ”ë¡œìš° </button>
                </a>
            {% endif %}
        {% endif %}


    
    </div>

    <hr/>

    <div class="section">
        <h2><b>ğŸ“® POST</b></h2>
        {% if user_posts %}
            <div class="card-list">
                {% for post in user_posts %}
                <div class="card">
                    <h3>{{ post.title }}</h3>
                    <p><strong>{{ post.writer }}</strong> | {{ post.pub_date }}</p>
                    <p>{{ post.content|truncatewords:20 }}</p>
                    <a href="{% url 'main:detail_post' post.id %}" class="btn">ìì„¸íˆ ë³´ê¸°</a>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <p>ì‘ì„±í•œ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>
        {% endif %}
    </div>

    <hr/>

    <div class="section">
        <h2><b>ğŸ“ BLOG</b></h2>
        {% if user_blogs %}
            <div class="card-list">
                {% for blog in user_blogs %}
                <div class="card">
                    <h3>{{ blog.title }}</h3>
                    <p><strong>{{ blog.writer }}</strong> | {{ blog.pub_date }}</p>
                    <p>{{ blog.content|truncatewords:20 }}</p>
                    <a href="{% url 'main:detail_blog' blog.id %}" class="btn">ìì„¸íˆ ë³´ê¸°</a>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <p>ì‘ì„±í•œ ë¸”ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
