{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="mypage-container">
    <h1><b>MY PAGE</b></h1>
    <div class="user-info">
        <h3>{{ user.profile.nickname }} 님 안녕하세요 😊</h3>
        <p><strong>학과:</strong> {{ user.profile.major }}</p>
        <p><strong>취미:</strong> {{ user.profile.hobby }}</p>
        <p><strong>생일:</strong> {{ user.profile.birthday }}</p>
    </div>

    <hr/>

    <div class="section">
        <h2><b>📮 POST</b></h2>
        {% if posts %}
            <div class="card-list">
                {% for post in posts %}
                <div class="card">
                    <h3>{{ post.title }}</h3>
                    <p><strong>{{ post.writer }}</strong> | {{ post.pub_date }}</p>
                    <p>{{ post.content|truncatewords:20 }}</p>
                    <a href="{% url 'main:detail_post' post.id %}" class="btn">자세히 보기</a>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <p>작성한 게시글이 없습니다.</p>
        {% endif %}
    </div>

    <hr/>

    <div class="section">
        <h2><b>📝 BLOG</b></h2>
        {% if blogs %}
            <div class="card-list">
                {% for blog in blogs %}
                <div class="card">
                    <h3>{{ blog.title }}</h3>
                    <p><strong>{{ blog.writer }}</strong> | {{ blog.pub_date }}</p>
                    <p>{{ blog.content|truncatewords:20 }}</p>
                    <a href="{% url 'main:detail_blog' blog.id %}" class="btn">자세히 보기</a>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <p>작성한 블로그가 없습니다.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
