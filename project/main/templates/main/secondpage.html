{% extends 'base.html' %}
{% block content %}

    <h1 class = "contents"> 2025 멋쟁이사자처럼 13기</h1>

    <!-- Blog 목록 출력 -->
    <div>
        <h2>Blog</h2>
        <div>
            {% if user.is_authenticated %}
            <a href = "{% url 'main:new-blog' %}"> 새 글 작성하기 </a>
            {% endif %}
        </div>

        <h3>목록</h3>
        <hr/>
        {% for blog in blogs %}
        <div>
            <h3>{{blog.title}}</h3>
            {{blog.writer}} | {{blog.pub_date}}<br>
            {{blog.summary}}
            <a href="{% url 'main:detail_blog' blog.id %}">자세히 보기 </a>
            <br>
        </div>
        {% endfor %}
    </div>

    <hr/>
    <hr/>

    <!-- Post 목록 출력 -->
    <div>
        <h2>Post</h2>
        <div>
            {% if user.is_authenticated %}
            <a href = "{% url 'main:new-post' %}"> 새 글 작성하기 </a>
            {% endif %}
        </div>

        <h3>목록</h3>
        <hr/>
        {% for post in posts %}
        <div>
            <h3>{{ post.title }}</h3>
            {{ post.writer }} | {{ post.pub_date }}<br>
            {{ post.content|slice:":100" }}...  <!-- 간단한 내용 미리보기 -->
            <a href="{% url 'main:detail_post' post.id %}">자세히 보기</a>
            <br>
        </div>
        {% endfor %}
    </div>

{% endblock %}